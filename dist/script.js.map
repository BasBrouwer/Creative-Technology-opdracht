{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/canvasView.es6","src/keyModule.es6","src/map.es6","src/playerModule.es6","src/script.es6"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","Canvas","_classCallCheck","this","c","document","getElementById","ctx","getContext","cHidden","ctxHidden","mineralTiles","playerGfx","scale","loadImages","image","alpha","clearRect","width","height","props","drawImage","x","y","mapLayout","_this","map","forEach","row","tile","j","drawTile","_this2","hidden","drawTileHide","fillStyle","fillRect","whatImage","globalAlpha","Image","src","cWidth","cHeight","KeyModule","callback","window","addEventListener","up","keyCode","down","left","right","Map","mapBreed","mapHoog","setPunten","player","clearHidden","coal","bronze","ijzer","zilver","aantal","Math","floor","random","randomBreed","randomHoog","Player","score","speed","lastMove","direction","Date","now","_score","Controller","canvas","keyModule","keyPress","data","handleKey","movement","drawMap","drawHiddenMap","mapSpot","playerProps","draw","requestAnimationFrame","loop","contr"],"mappings":"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AAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAG7DvB,KAAK8B,SACF,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAC1D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,E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","file":"script.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","class Canvas {\n  constructor(){\n    this.c = document.getElementById(\"myCanvas\");\n    this.ctx = this.c.getContext(\"2d\");\n\n    this.cHidden = document.getElementById(\"hideCanvas\");\n    this.ctxHidden = this.cHidden.getContext(\"2d\");\n\n\n    this.mineralTiles = [];\n    this.playerGfx = [];\n\n    this.scale = 35;\n\n    this.loadImages();\n    this.image;\n    this.alpha = 1;\n\n  }\n\n  clearRect(){\n    this.ctx.clearRect(0,0,this.c.width, this.c.height);\n  }\n\n  draw(props) {\n    this.ctx.drawImage(\n      this.playerGfx[1],\n      0, \t                // x positie afb\n      0,                  // y positie afb\n      480,  \t            // grote van x breedte\n      480, \t              // grote van y in hoogte\n      (props.x * this.scale), \t\t              // x as plaatsing\n      (props.y * this.scale), \t\t              // y as plaatsing\n      this.scale,  \t      // grote afbeelding\n      this.scale,     \t  // grote afbeelidng\n    );\n  }\n\n  drawMap(mapLayout){\n    mapLayout.map.forEach( (row, i) => {\n      row.forEach((tile, j) => {\n          this.drawTile(j,i, tile);\n      })\n    })\n  }\n\n  drawHiddenMap(mapLayout){\n    mapLayout.hidden.forEach( (row, i) => {\n      row.forEach((tile, j) => {\n        if(tile === 1){\n          this.drawTileHide(j,i, tile);\n        }\n      })\n    })\n  }\n\n  drawTileHide(x, y, tile){\n    this.ctx.fillStyle = \"black\";\n    this.ctx.fillRect((x * this.scale), (y * this.scale), this.scale, this.scale);\n  }\n\n  drawTile(x, y, tile){\n    this.whatImage(tile);\n    this.ctx.globalAlpha = this.alpha;\n    this.ctx.drawImage(\n      this.image,\n      0, \t                // x positie afb\n      0,                  // y positie afb\n      256,  \t            // grote van x breedte\n      256, \t              // grote van y in hoogte\n      (x * this.scale), \t\t              // x as plaatsing\n      (y * this.scale), \t\t              // y as plaatsing\n      this.scale,  \t      // grote afbeelding\n      this.scale,     \t  // grote afbeelidng\n    );\n  }\n\n  whatImage(tile) {\n    this.alpha = 1;\n\n    // borders\n    if(tile === 9){\n      this.image = this.mineralTiles[7];\n    }\n    if(tile === 8){\n      this.image = this.mineralTiles[6];\n    }\n\n    // dirt\n    if(tile === 1) {\n      this.image = this.mineralTiles[8];\n    }\n\n    // minerals\n    if(tile === 2){\n      this.image = this.mineralTiles[0];\n    }\n    if(tile === 3){\n      this.image = this.mineralTiles[1];\n    }\n    if(tile === 4){\n      this.image = this.mineralTiles[2];\n    }\n    if(tile === 4){\n      this.image = this.mineralTiles[3];\n    }\n    if(tile === 5){\n      this.image = this.mineralTiles[4];\n    }\n    if(tile === 6){\n      this.image = this.mineralTiles[5];\n    }\n\n    if(tile === 0){\n      this.image = this.mineralTiles[8];\n      this.alpha = 0.5;\n    }\n  }\n\n  get size(){\n    return {\n      cWidth: this.c.width,\n      cHeight: this.c.height,\n    }\n  }\n\n  loadImages(){\n    for(var t = 0; t < 12; t++) {\n      this.mineralTiles[t] = new Image();\n      this.mineralTiles[t].src = \"../img/minerals/\" + (t+1) + \".png\" ;\n    }\n    this.playerGfx[1] = new Image();\n    this.playerGfx[1].src = \"../img/1.png\";\n  }\n}\n\nmodule.exports = Canvas;\n","class KeyModule {\n  constructor(){\n    // this.left  = false;\n    // this.right = false;\n    // this.up = false;\n    // this.down = false;\n    //\n    // document.addEventListener(\"keydown\", (keyBoardDown) => {\n    //   if(keyBoardDown.keyCode == 39) {\n    //     this.right = true;\n    //   }\n    //   else if(keyBoardDown.keyCode == 37) {\n    //     this.left = true;\n    //   }\n    //   else if(keyBoardDown.keyCode == 38) {\n    //     this.up = true;\n    //   }\n    //\n    //   else if(keyBoardDown.keyCode == 40) {\n    //     this.down = true;\n    //   }\n    //\n    // });\n    //\n    // document.addEventListener(\"keyup\", (keyBoardUp) => {\n    //   if(keyBoardUp.keyCode == 39) {\n    //     this.right = false;\n    //   }\n    //   else if(keyBoardUp.keyCode == 37) {\n    //     this.left = false;\n    //   }\n    //   else if (keyBoardUp.keyCode == 38) {\n    //     this.up = false;\n    //   }\n    //   else if (keyBoardUp.keyCode == 40){\n    //     this.down = false;\n    //   }\n    // })\n  }\n\n  keyPress(callback) {\n    window.addEventListener('keydown', (e) => {\n      callback({\n        up: e.keyCode === 38 ? true : false,\n        down: e.keyCode === 40 ? true : false,\n        left: e.keyCode === 37 ? true : false,\n        right: e.keyCode === 39 ? true : false\n      });\n    });\n  }\n\n}\n\nmodule.exports = KeyModule\n","class Map {\n  constructor(){\n    this.mapBreed = 30;\n    this.mapHoog = 20;\n    // 30 breed\n    // 20 hoog\n    this.map = [\n      [9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],\n      [9,1,1,1,1,1,9,9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9],\n      [9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9],\n      [9,1,1,1,1,1,1,1,9,9,9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,1,9],\n      [9,1,1,1,1,1,1,1,9,9,9,9,9,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,1,9],\n      [9,1,1,1,1,1,1,1,1,1,9,8,9,9,9,9,1,1,1,1,1,1,1,1,1,9,8,8,1,9],\n      [9,1,1,1,1,1,1,1,1,1,1,1,9,9,1,1,1,1,1,1,1,1,1,1,1,9,9,9,1,9],\n      [9,1,1,1,8,8,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,1,9],\n      [9,1,9,9,8,9,8,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,1,1,1,1,1,1,1,9],\n      [9,1,9,9,8,9,9,1,1,1,1,1,1,1,1,1,1,1,1,8,8,9,1,1,1,1,1,1,1,9],\n      [9,1,9,8,8,9,9,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,1,1,1,1,1,1,1,9],\n      [9,1,9,9,8,9,9,1,1,1,1,1,1,1,1,1,1,1,1,9,8,9,1,1,1,1,1,1,1,9],\n      [9,1,1,1,1,1,1,1,1,1,1,1,1,9,1,1,1,1,1,9,8,8,1,1,1,1,1,1,1,9],\n      [9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,1,1,1,1,1,1,1,9],\n      [9,1,9,9,9,9,9,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,1,1,1,1,1,1,1,9],\n      [8,1,9,9,9,9,9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,9,1,9],\n      [9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,9,9,1,1,1,1,1,9,1,9],\n      [9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,9,8,9,9,1,1,1,1,1,9,1,9],\n      [9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,8,8,8,9,9,1,1,1,1,1,9,1,9],\n      [9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],\n    ];\n\n    this.hidden = [\n      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\n      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\n      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\n      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\n      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\n      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\n      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\n      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\n      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\n      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\n      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\n      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\n      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\n      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\n      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\n      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\n      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\n      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\n      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\n      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\n    ];\n\n    this.setPunten();\n  }\n\n  mapSpot(player) {\n    this.clearHidden(player);\n\n    // het loopgat graven + de punten telling van de stenen dat men op kan pakken\n    if (this.map[player.y][player.x] === 2) {\n      this.map[player.y][player.x] = 0;\n      return 1;\n    }\n\n\n    if (this.map[player.y][player.x] === 3) {\n      this.map[player.y][player.x] = 0;\n      return 2;\n    }\n\n    if (this.map[player.y][player.x] === 4) {\n      this.map[player.y][player.x] = 0;\n      return 3;\n    }\n\n    if (this.map[player.y][player.x] === 5) {\n      this.map[player.y][player.x] = 0;\n      return 4;\n    }\n\n\n    if (this.map[player.y][player.x] === 1) {\n      this.map[player.y][player.x] = 0;\n      return 0;\n    }\n  }\n\n  // verwijdert het zwarte vlak over het speelveld\n  // was lastig om met for loops te werken omdat als je zodra buiten de array's kwam kwa getallen het fout ging.\n  // dan verdween mijn speler\n  clearHidden(player){\n    this.hidden[player.y - 1][player.x + 1] = 0;\n    this.hidden[player.y - 1][player.x - 1] = 0;\n    this.hidden[player.y + 1][player.x + 1] = 0;\n    this.hidden[player.y + 1][player.x - 1] = 0;\n\n    // kijken of links vrij blokje is om te cleane\n    if (player.y >= 1) {\n      this.hidden[player.y - 1][player.x] = 0;\n\n      if (player.y >= 2) {\n        this.hidden[player.y - 2][player.x] = 0;\n      }\n    }\n\n    // kijken of rechts vrij blokje is om te cleane\n    if (player.y <= (this.mapHoog - 1)) {\n      this.hidden[player.y + 1][player.x] = 0;\n\n      if (player.y < (this.mapHoog - 2)) {\n        this.hidden[player.y + 2][player.x] = 0;\n\n      }\n    }\n\n    if (player.y <= (this.mapBreed -1)) {\n      this.hidden[player.y][player.x + 1] = 0;\n\n      if (player.y < (this.mapBreed -2)) {\n        this.hidden[player.y][player.x + 2] = 0;\n      }\n    }\n\n    if (player.x >= 1) {\n      this.hidden[player.y][player.x - 1] = 0;\n      if (player.x >= 2) {\n        this.hidden[player.y][player.x - 2] = 0;\n      }\n    }\n  }\n\n  setPunten(){\n    this.coal();\n    this.bronze();\n    this.ijzer();\n    this.zilver();\n  }\n\n  coal(){\n    let aantal = Math.floor((Math.random() * 6));\n    for(var i = 0; i < aantal; i++){\n      let randomBreed = Math.floor((Math.random() * 28) + 1);\n      let randomHoog = Math.floor((Math.random() * 18) + 1);\n      this.map[randomHoog][randomBreed] = 2;\n    }\n  }\n\n  bronze(){\n    let aantal = Math.floor((Math.random() * 6));\n    for(var i = 0; i < aantal; i++){\n      let randomBreed = Math.floor((Math.random() * 28) + 1);\n      let randomHoog = Math.floor((Math.random() * 18) + 1);\n      this.map[randomHoog][randomBreed] = 3;\n    }\n  }\n\n  ijzer(){\n    let aantal = Math.floor((Math.random() * 6));\n    for(var i = 0; i < aantal; i++){\n      let randomBreed = Math.floor((Math.random() * 28) + 1);\n      let randomHoog = Math.floor((Math.random() * 18) + 1);\n      this.map[randomHoog][randomBreed] = 4;\n    }\n  }\n\n  zilver(){\n    let aantal = Math.floor((Math.random() * 6));\n    for(var i = 0; i < aantal; i++){\n      let randomBreed = Math.floor((Math.random() * 28) + 1);\n      let randomHoog = Math.floor((Math.random() * 18) + 1);\n      this.map[randomHoog][randomBreed] = 5;\n    }\n  }\n\n\n  get mapLayout(){\n    return {\n      map: this.map,\n      hidden: this.hidden,\n    }\n  }\n}\n\nmodule.exports = Map;\n\n\n\n","class Player {\n  constructor(){\n    this.props = {\n      x: 1,\n      y: 1,\n      width: 1,\n      height: 1,\n      score: 0,\n    };\n\n    this.speed = 1;\n    this.lastMove;\n  }\n  // movement(direction, map){\n  //   if(Date.now() - this.lastMove <= 100)\n  //     return;\n  //\n  //   this.lastMove = Date.now();\n  //\n  //   if (direction.up){\n  //     if (map.map[this.props.y-1][this.props.x] === 1)\n  //       return;\n  //     this.props.y -= this.speed;\n  //   }\n  //   else if (direction.down){\n  //     if (map.map[this.props.y+1][this.props.x] === 1)\n  //       return;\n  //     this.props.y += this.speed;\n  //   }\n  //   else if (direction.left){\n  //     if (map.map[this.props.y][this.props.x-1] === 1)\n  //       return;\n  //     this.props.x -= this.speed;\n  //   }\n  //   else if (direction.right){\n  //     if (map.map[this.props.y][this.props.x+1] === 1)\n  //       return;\n  //     this.props.x += this.speed;\n  //   }\n  //\n  // }\n\n  movement(direction, map){\n\n    if(Date.now() - this.lastMove <= 100)\n        return;\n\n    this.lastMove = Date.now();\n\n    if (direction.up){\n      if (map.map[this.props.y-1][this.props.x] === 9)\n        return;\n      this.props.y -= this.speed;\n    }\n    else if (direction.down){\n      if (map.map[this.props.y+1][this.props.x] === 9)\n        return;\n      this.props.y += this.speed;\n    }\n    else if (direction.left){\n      if (map.map[this.props.y][this.props.x-1] === 9)\n        return;\n      this.props.x -= this.speed;\n    }\n    else if (direction.right){\n      if (map.map[Math.floor(this.props.y)][this.props.x+1] === 9)\n        return;\n\n      this.props.x += this.speed;\n    }\n  }\n\n  score(score){\n    this.props.score += (score === 1) ? 1 : (score === 2) ? 2:0;\n  }\n\n  get playerProps(){\n    return {\n      x: this.props.x,\n      y: this.props.y,\n      width: this.props.width,\n      height: this.props.height,\n      score: this.props.score,\n    }\n  }\n}\n\nmodule.exports = Player;\n","const Canvas = require(\"./canvasView.es6\");\nconst Player = require(\"./playerModule.es6\");\nconst KeyModule = require(\"./keyModule.es6\");\nconst Map = require(\"./map.es6\");\n\n\nclass Controller {\n  constructor(){\n    this.canvas = new Canvas();\n    this.keyModule = new KeyModule();\n    this.player = new Player();\n    this.map = new Map();\n\n    this.score = 0;\n\n\n    this.keyModule.keyPress( (data)=> {\n      this.handleKey(data);\n    });\n  }\n\n  handleKey(data){\n    this.player.movement(data, this.map.mapLayout);\n  }\n\n  loop(){\n    this.canvas.clearRect(); // clears canvas\n\n    // Map\n    // =============================================================================\n    this.canvas.drawMap(this.map.mapLayout);\n    this.canvas.drawHiddenMap(this.map.mapLayout);\n    this.score = this.map.mapSpot(this.player.playerProps);\n\n    // player\n    // =============================================================================\n    this.canvas.draw(this.player.playerProps);\n    this.player.score(this.score);\n\n    window.requestAnimationFrame(() => { // loops the main content\n      this.loop();\n    });\n  };\n}\n\nconst contr = new Controller();\ncontr.loop();"]}