!function e(t,i,a){function s(n,o){if(!i[n]){if(!t[n]){var h="function"==typeof require&&require;if(!o&&h)return h(n,!0);if(r)return r(n,!0);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}var l=i[n]={exports:{}};t[n][0].call(l.exports,function(e){var i=t[n][1][e];return s(i?i:e)},l,l.exports,e,t,i,a)}return i[n].exports}for(var r="function"==typeof require&&require,n=0;n<a.length;n++)s(a[n]);return s}({1:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),r=function(){function e(){a(this,e),this.c=document.getElementById("myCanvas"),this.ctx=this.c.getContext("2d"),this.cData=document.getElementById("levelData"),this.ctxData=this.cData.getContext("2d"),this.mineralTiles=[],this.playerGfx=[],this.scale=35,this.loadImages(),this.image,this.playerImg={img:this.playerGfx[0],xPos:0,yPos:0,w:0,h:0,xS:0,yS:0},this.alpha=1}return s(e,[{key:"clearRect",value:function(){this.ctx.clearRect(0,0,this.c.width,this.c.height),this.ctxData.clearRect(0,0,this.c.width,this.c.height)}},{key:"loadImages",value:function(){for(var e=0;e<12;e++)this.mineralTiles[e]=new Image,this.mineralTiles[e].src="./img/Minerals/"+(e+1)+".png";this.playerGfx[0]=new Image,this.playerGfx[0].src="./img/side.png",this.playerGfx[1]=new Image,this.playerGfx[1].src="./img/top.png"}},{key:"draw",value:function(e){this.playerImage(e),this.ctx.drawImage(this.playerImg.img,this.playerImg.xPos,this.playerImg.yPos,35,35,e.x*this.scale,e.y*this.scale,this.scale,this.scale)}},{key:"playerImage",value:function(e){1===e.richting&&(this.playerImg={img:this.playerGfx[0],xPos:0,yPos:35}),2===e.richting&&(this.playerImg={img:this.playerGfx[1],xPos:0,yPos:37}),3===e.richting&&(this.playerImg={img:this.playerGfx[0],xPos:0,yPos:0}),4===e.richting&&(this.playerImg={img:this.playerGfx[1],xPos:0,yPos:0})}},{key:"drawHiddenMap",value:function(e){var t=this;e.hidden.forEach(function(e,i){e.forEach(function(e,a){1===e&&t.drawTileHide(a,i)})})}},{key:"drawTileHide",value:function(e,t){this.ctx.fillStyle="black",this.ctx.fillRect(e*this.scale,t*this.scale,this.scale,this.scale)}},{key:"drawMap",value:function(e){var t=this;e.map.forEach(function(e,i){e.forEach(function(e,a){t.drawTile(a,i,e)})})}},{key:"drawTile",value:function(e,t,i){this.whatImage(i),this.ctx.globalAlpha=this.alpha,this.ctx.drawImage(this.image,0,0,256,256,e*this.scale,t*this.scale,this.scale,this.scale)}},{key:"whatImage",value:function(e){this.alpha=1,9===e&&(this.image=this.mineralTiles[7]),1===e&&(this.image=this.mineralTiles[8]),2===e&&(this.image=this.mineralTiles[0]),3===e&&(this.image=this.mineralTiles[1]),4===e&&(this.image=this.mineralTiles[2]),4===e&&(this.image=this.mineralTiles[3]),5===e&&(this.image=this.mineralTiles[4]),6===e&&(this.image=this.mineralTiles[5]),0===e&&(this.image=this.mineralTiles[8],this.alpha=.5)}},{key:"playerScore",value:function(e){this.drawText("15px helvetica","Blocks: "+e.blocks,0,65),this.drawText("20px helvetica",e.name,0,50)}},{key:"assignment",value:function(e){this.drawText("20px helvetica","Opdracht",0,150),this.drawText("17px helvetica",e.score.coal+" / "+e.opdracht.coal,this.scale+5,195),this.tileOpdracht(0,170,2),this.drawText("17px helvetica",e.score.bronze+" / "+e.opdracht.coal,this.scale+5,230),this.tileOpdracht(0,205,3),this.drawText("17px helvetica",e.score.zilver+" / "+e.opdracht.coal,this.scale+5,265),this.tileOpdracht(0,240,4),this.drawText("17px helvetica",e.score.goud+" / "+e.opdracht.coal,this.scale+5,300),this.tileOpdracht(0,275,5)}},{key:"drawText",value:function(e,t,i,a){this.ctxData.font=e,this.ctxData.fillText(t,i,a)}},{key:"tileOpdracht",value:function(e,t,i){this.whatImage(i),this.ctxData.drawImage(this.image,0,0,256,256,e,t,this.scale,this.scale)}}]),e}();t.exports=r},{}],2:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),r=function(){function e(){a(this,e)}return s(e,[{key:"keyPress",value:function(e){window.addEventListener("keydown",function(t){e({up:38===t.keyCode,down:40===t.keyCode,left:37===t.keyCode,right:39===t.keyCode})})}}]),e}();t.exports=r},{}],3:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),r=function(){function e(){a(this,e),this.mapBreed=30,this.mapHoog=20,this.map=[[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],[9,0,1,1,1,1,9,9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9],[9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9],[9,1,1,1,1,1,1,1,9,9,9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,1,9],[9,1,1,1,1,1,1,1,9,9,9,9,9,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,1,9],[9,1,1,1,1,1,1,1,1,1,9,9,9,9,9,9,1,1,1,1,1,1,1,1,1,9,9,9,1,9],[9,1,1,1,1,1,1,1,1,1,1,1,9,9,1,1,1,1,1,1,1,1,1,1,1,9,9,9,1,9],[9,1,1,1,9,9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,1,9],[9,1,9,9,9,9,9,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,1,1,1,1,1,1,1,9],[9,1,9,9,9,9,9,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,1,1,1,1,1,1,1,9],[9,1,9,9,9,9,9,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,1,1,1,1,1,1,1,9],[9,1,9,9,9,9,9,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,1,1,1,1,1,1,1,9],[9,1,1,1,1,1,1,1,1,1,1,1,1,9,1,1,1,1,1,9,9,9,1,1,1,1,1,1,1,9],[9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,1,1,1,1,1,1,1,9],[9,1,9,9,9,9,9,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,1,1,1,1,1,1,1,9],[9,1,9,9,9,9,9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,9,1,9],[9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,9,9,1,1,1,1,1,9,1,9],[9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,9,9,1,1,1,1,1,9,1,9],[9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,9,9,1,1,1,1,1,9,1,9],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9]],this.hidden=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],this.setPunten()}return s(e,[{key:"mapSpot",value:function(e){return this.clearHidden(e),2===this.map[e.y][e.x]?(this.map[e.y][e.x]=0,{blocks:1,soort:1}):3===this.map[e.y][e.x]?(this.map[e.y][e.x]=0,{blocks:1,soort:2}):4===this.map[e.y][e.x]?(this.map[e.y][e.x]=0,{blocks:1,soort:3}):5===this.map[e.y][e.x]?(this.map[e.y][e.x]=0,{blocks:1,soort:4}):1===this.map[e.y][e.x]?(this.map[e.y][e.x]=0,{blocks:1,soort:0}):0===this.map[e.y][e.x]?{blocks:0,soort:0}:void 0}},{key:"clearHidden",value:function(e){this.hidden[e.y-1][e.x+1]=0,this.hidden[e.y-1][e.x-1]=0,this.hidden[e.y+1][e.x+1]=0,this.hidden[e.y+1][e.x-1]=0,e.y>=1&&(this.hidden[e.y-1][e.x]=0,e.y>=2&&(this.hidden[e.y-2][e.x]=0)),e.y<=this.mapHoog-1&&(this.hidden[e.y+1][e.x]=0,e.y<this.mapHoog-2&&(this.hidden[e.y+2][e.x]=0)),e.y<=this.mapBreed-1&&(this.hidden[e.y][e.x+1]=0,e.y<this.mapBreed-2&&(this.hidden[e.y][e.x+2]=0)),e.x>=1&&(this.hidden[e.y][e.x-1]=0,e.x>=2&&(this.hidden[e.y][e.x-2]=0))}},{key:"setPunten",value:function(){this.coal(),this.bronze(),this.ijzer(),this.zilver()}},{key:"coal",value:function(){var e=Math.floor(6*Math.random());this.randomPuntenSet(e,2)}},{key:"bronze",value:function(){var e=Math.floor(6*Math.random());this.randomPuntenSet(e,3)}},{key:"ijzer",value:function(){var e=Math.floor(6*Math.random());this.randomPuntenSet(e,4)}},{key:"zilver",value:function(){var e=Math.floor(6*Math.random());this.randomPuntenSet(e,5)}},{key:"randomPuntenSet",value:function(e,t){for(var i=0;i<e;i++){for(var a=this.randomMapPlace();9===this.map[a.y][a.x];)a=this.randomMapPlace();this.map[a.y][a.x]=t}}},{key:"randomMapPlace",value:function(){var e=Math.floor(28*Math.random()+1),t=Math.floor(18*Math.random()+1);return{x:e,y:t}}},{key:"mapLayout",get:function(){return{map:this.map,hidden:this.hidden}}}]),e}();t.exports=r},{}],4:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),r=function(){function e(){a(this,e),this.props={x:1,y:1,width:1,height:1,richting:3},this.score={name:"Bas",blocks:0,coal:0,bronze:0,zilver:0,goud:0},this.opdracht={blocks:0,coal:0,bronze:0,zilver:0,goud:0},this.speed=1,this.lastMove}return s(e,[{key:"movement",value:function(e,t){if(!(Date.now()-this.lastMove<=50))if(this.lastMove=Date.now(),e.up){if(this.props.richting=2,9===t.map[this.props.y-1][this.props.x])return;this.props.y-=this.speed}else if(e.down){if(this.props.richting=4,9===t.map[this.props.y+1][this.props.x])return;this.props.y+=this.speed}else if(e.left){if(this.props.richting=1,9===t.map[this.props.y][this.props.x-1])return;this.props.x-=this.speed}else if(e.right){if(this.props.richting=3,9===t.map[this.props.y][this.props.x+1])return;this.props.x+=this.speed}}},{key:"scoreModule",value:function(e){"undefined"!==e&&(1===e.blocks&&(this.score.blocks+=1),1===e.soort&&(this.score.coal+=1),2===e.soort&&(this.score.bronze+=1),3===e.soort&&(this.score.zilver+=1),4===e.soort&&(this.score.goud+=1))}},{key:"opdracht",value:function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==e.readyState&&200==e.status&&this.parseData(e.responseText)},e.open("GET","http://bbrouwer6.acue.webpages.avans.nl/game/php/getLevel/",!0),e.send()}},{key:"parseData",value:function(e){for(var t=JSON.parse(e),i=0;i<t.length;i++){var a={avatar:t[i].avatar,name:t[i].name,message:t[i].message,height:t[i].avatar_height,id:t[i].id};objectArray.push(a)}}},{key:"playerProps",get:function(){return{name:this.props.name,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,richting:this.props.richting}}},{key:"playerScore",get:function(){return{score:this.score,opdracht:this.opdracht}}}]),e}();t.exports=r},{}],5:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),r=e("./canvasView.es6"),n=e("./playerModule.es6"),o=e("./keyModule.es6"),h=e("./map.es6"),c=function(){function e(){var t=this;a(this,e),this.canvas=new r,this.keyModule=new o,this.player=new n,this.map=new h,this.score=0,this.keyModule.keyPress(function(e){t.handleKey(e)})}return s(e,[{key:"handleKey",value:function(e){this.player.movement(e,this.map.mapLayout)}},{key:"loop",value:function(){var e=this;this.canvas.clearRect(),this.canvas.drawMap(this.map.mapLayout),this.canvas.drawHiddenMap(this.map.mapLayout),this.score=this.map.mapSpot(this.player.playerProps),this.canvas.draw(this.player.playerProps),this.player.scoreModule(this.score),this.canvas.playerScore(this.player.playerScore),this.canvas.assignment(this.player.playerScore),window.requestAnimationFrame(function(){e.loop()})}}]),e}(),l=new c;l.loop()},{"./canvasView.es6":1,"./keyModule.es6":2,"./map.es6":3,"./playerModule.es6":4}]},{},[5]);
//# sourceMappingURL=script.js.map
